# 哔咔桥命令

为了避免直接操作数据库，我利用评论区作为命令输入页面，  
输入命令，发送评论，命令的执行结合会一同显示在发送的评论中。

所有命令均以`/`开头，并使用空格分段。  
所有命令均具有中文和英文形式，功能一致，可按个人喜好使用。

**全局命令**：表示该命令只能在**留言板**中执行，不能在漫画评论区中执行。
**权限**：表示有权执行该命令的权限组，只有具有这些权限组的用户才能执行。

在命令末尾加入`-notreport`参数，可让命令静默执行，不会发布评论。

## 用户信息命令
用于操作用户相关的数据  
**全局命令**

### 修改账号
用法：
```
/user <email> [<账号名>] <新账号名>
/用户 <账号> [<账号名>] <新账号名>
```

参数：
- `账号名`（可选）：指定要操作的账号，如不填则操作当前登录用户
- `新账号名`（必填）：指定要修改成的新账号名

权限：`official`

### 修改昵称
用法：
```
/user <name> [<账号名>] <新昵称>
/用户 <昵称> [<账号名>] <新昵称>
```

参数：
- `账号名`（可选）：指定要操作的账号，如不填则操作当前登录用户
- `新昵称`（必填）：指定要修改成的新昵称

权限：`official`

### 修改权限组
用法：
```
/user <role> [<账号名>] <新权限组>
/用户 <权限组> [<账号名>] <新权限组>
```

参数：
- `账号名`（可选）：指定要操作的账号，如不填则操作当前登录用户
- `新权限组`（必填）：指定要修改成的新权限组

新权限组为替换操作，可传入多个权限组以`,`分隔，  
目前可用权限组：`official`,`knight`

权限：`official`

### 删除用户
用法：
```
/user <del> <账号名>
/用户 <删除> <账号名>
```

参数：
- `账号名`（必填）：指定要操作的账号

权限：`official`

### 修改称号
用法：
```
/user <title> [<账号名>] <新称号>
/用户 <称号> [<账号名>] <新称号>
```

参数：
- `账号名`（可选）：指定要操作的账号，如不填则操作当前登录用户
- `新称号`（必填）：指定要修改成的新称号

权限：`official`

## 模式切换命令
用于切换用户模式  
**全局命令**

用法：
```
/modesw <模式名>
/模式切换 <模式名>
```

参数：
- `模式名`（必填）：指定要切换到的模式，可用模式：`sfw`,`nsfw`

权限：无限制

## 初始化漫画
用于初始化漫画数据，从LANraragi同步数据至数据库

### 完全初始化
**全局命令**

用法：
```
/initcmc <full> <要处理的漫画>
/初始化漫画 <完全> <要处理的漫画>
```

参数：
- `要处理的漫画`（必填）：指定要处理的漫画，
可输入单本漫画ID，也可指定页数，可指定单页，也可指定范围，如`0,5`，表示第0页到第5页中的所有漫画。  
如果输入`all`，表示处理所有漫画，如果漫画数据较多，该命令可能需要较长时间完成，请谨慎使用！

权限：`official`,`knight`

### 自动初始化
**全局命令**    
该命令将检查漫画是否存在于数据库中，如没有，则创建项目并写入默认值。      
该命令**已弃用**，其功能已被`完全初始化`命令替代！

用法：
```
/initcmc <auto> <要处理的漫画>
/初始化漫画 <自动> <要处理的漫画>
```

参数：
- `要处理的漫画`（必填）：指定要处理的漫画，  
可指定页数，可指定单页，也可指定范围，如`0,5`，表示第0页到第5页中的所有漫画。   
如果输入`all`，表示处理所有漫画，如果漫画数据较多，该命令可能需要较长时间完成，请谨慎使用！

权限：`official`,`knight`

## 编辑漫画简介
用于编辑漫画简介，并将其提交至LANraragi。  
该命令需要在漫画评论区内执行，在哪本漫画执行就表示操作的是哪本漫画。

用法：
```
/editdesc <新简介>
/编辑简介 <新简介>
```

参数：
- `新简介`（必填）：新简介
由于哔咔评论区字数限制，过长的简介可能无法通过命令写入，请直接通过LANraragi设置。

权限：`official`,`knight`

## 同步漫画分类
从LANraragi获取分类数据，并写入数据库。  
该命令需要在漫画评论区内执行，在哪本漫画执行就表示操作的是哪本漫画。  
该命令**已弃用**，其功能已被`完全初始化`命令替代！

用法：
```
/categ <auto/自动>
/分类 <auto/自动>
```

参数：无

权限：`official`,`knight`